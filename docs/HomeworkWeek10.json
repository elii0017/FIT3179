{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  
  "width": 500,
  "height": 400,
  
  "data": {
    "url": "https://raw.githubusercontent.com/elii0017/FIT3179/refs/heads/main/Excel%20Files/2016-2024-Demographic.csv",
    "format": {
      "type": "csv"
    }
  },
  
"transform": [
  {
    "calculate": "datum.Demographic + ' ' + datum.Gender",
    "as": "DemographicGender"
  },
    {
    "calculate": "replace(datum.DemographicGender, 'Australian Total', 'Total')",
    "as": "DemographicGender"
  },
  {
    "calculate": "replace(datum.DemographicGender, 'Australian Male', 'Males')",
    "as": "DemographicGender"
  },
  {
    "calculate": "replace(datum.DemographicGender, 'Australian Female', 'Females')",
    "as": "DemographicGender"
  },
  {
    "calculate": "replace(datum.DemographicGender, 'Indigenous Male', 'Indigenous Males')",
    "as": "DemographicGender"
  },
  {
    "calculate": "replace(datum.DemographicGender, 'Indigenous Female', 'Indigenous Females')",
    "as": "DemographicGender"
  },
  {
    "filter": {"selection": "stateFilter"}
  }
],
  
  "selection": {
    "stateFilter": {
      "type": "single",
      "fields": ["State"],
      "init": {"State": "AUSTRALIA"},
      "bind": {
        "input": "select",
        "options": [
          "AUSTRALIA", 
          "NSW", 
          "VIC", 
          "QLD", 
          "SA", 
          "WA", 
          "TAS", 
          "NT", 
          "ACT"
        ],
        "name": "State/Territory:"
      }
    },
    "colorFilter": {
      "type": "multi",
      "fields": ["DemographicGender"],
      "bind": "legend"
    }
  },
  
    "mark": {
      "type": "line",
      "point": true
  },
  
  "encoding": {
    "x": {
      "field": "Year",
      "type": "ordinal",
      "title": "Year"
    },
    "y": {
      "field": "Count",
      "type": "quantitative",
      "title": "Prisoner Receptions"
    },
    "color": {
  "condition": {
    "selection": "colorFilter",
    "field": "DemographicGender",
    "type": "nominal",
    "scale": {
      "domain": [
        "Total",
        "Males",
        "Non-Indigenous Total",
        "Non-Indigenous Males",
        "Indigenous Total",
        "Indigenous Males",
        "Females",
        "Non-Indigenous Females",
        "Indigenous Females"
      ],
      "scheme": "dark2"
    },
    "title": "Demographic and Gender",
    "legend": {
      "orient": "top",
      "columns": 5
    }
  },
  "value": "lightgray"
  }
  }
}
